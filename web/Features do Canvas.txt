# ğŸ§  Canvas Workflow â€” Construtor de Regras de Agendamento

## ğŸ¯ Objetivo da Funcionalidade

O **Canvas Workflow** Ã© o nÃºcleo lÃ³gico do sistema de agendamento. Sua funÃ§Ã£o Ã© **definir como o sistema decide**:

* quais **tÃ©cnicos** entram no fluxo
* quais **prioridades** devem ser respeitadas
* quais **rotas** direcionam a execuÃ§Ã£o

O resultado deste canvas **alimenta a Agenda**, que apenas executa o que foi definido aqui.

> PrincÃ­pio central: **o Canvas pensa, a Agenda executa.**

---

## ğŸ§© Estrutura Visual do Canvas

A interface Ã© composta por trÃªs Ã¡reas principais:

1. **Aba Lateral (CTAs de criaÃ§Ã£o)**
2. **Ãrea Central (Canvas de conexÃ£o)**
3. **Navbar Inferior (controle do canvas)**

---

## ğŸ§© Aba Lateral â€” CTAs de CriaÃ§Ã£o

Localizada Ã  esquerda, a aba lateral contÃ©m os blocos disponÃ­veis para construÃ§Ã£o do workflow.

### CTAs disponÃ­veis:

* **TÃ©cnicos**
* **Prioridades**
* **Rotas**
* **Texto** (informativo / anotaÃ§Ã£o)

### Comportamento padrÃ£o

1. UsuÃ¡rio clica em um CTA
2. Um **card de configuraÃ§Ã£o** Ã© aberto no lado direito
3. ApÃ³s configuraÃ§Ã£o, um **card Ã© inserido no canvas**
4. O card passa a aceitar conexÃµes (setas)

---

## ğŸ§± Cards do Canvas

Cada card representa um **bloco lÃ³gico do workflow**. Eles sÃ£o conectados por setas que indicam a ordem de decisÃ£o.

### Elementos comuns a todos os cards

* **TÃ­tulo** (topo do card)
* **SubtÃ­tulo explicativo**
* **Ãcone de lixeira** no canto superior direito

  * Cor primÃ¡ria
  * Aciona confirmaÃ§Ã£o antes da exclusÃ£o

---

## ğŸ‘· Card: TÃ©cnicos

### Objetivo

Definir **quais tÃ©cnicos** participam deste workflow.

### ConteÃºdo do Card

* **Title:** Selecione o TÃ©cnico
* **Subtitle:** Escolha o(s) tÃ©cnico(s) desse workflow

### CTA / Popover

* Ãcone de tÃ©cnico
* Placeholder: **â€œTÃ©cnicosâ€**
* Ãcones de seta (â†“ â†‘)

Ao clicar:

* Abre popover com **lista de todos os tÃ©cnicos cadastrados**
* Permite **seleÃ§Ã£o mÃºltipla**

O card pode representar:

* Um tÃ©cnico especÃ­fico
* Um grupo de tÃ©cnicos

---

## âš ï¸ Card: Prioridade

### Objetivo

Definir a **ordem de importÃ¢ncia** para tomada de decisÃ£o dentro do workflow.

### ConteÃºdo do Card

* **Title:** Defina as prioridades
* **Subtitle:** Defina as prioridades desse card

### CTA / Popover (Prioridade principal)

* Ãcone de tÃ©cnico
* Placeholder: **â€œPrioridadesâ€**
* Ãcones de seta (â†“ â†‘)

Ao clicar:

* Abre popover com **lista de prioridades disponÃ­veis**
* Permite **selecionar apenas 1 prioridade por nÃ­vel**

### Lista de prioridades disponÃ­veis

* Bairro
* Casa
* PrÃ©dio com Prumada
* PrÃ©dio sem Prumada (+ 3 andares) ou Wi-Fi Extend

---

### CTA secundÃ¡rio: **+1 Prioridade**

* Localizado no **canto inferior esquerdo do popover**
* Ao clicar:

  * Cria uma **prioridade posterior** Ã  anterior
  * Exemplo:

    * Prioridade 1 â†’ Bairro
    * Prioridade 2 â†’ Casa
    * Prioridade 3 â†’ PrÃ©dio com Prumada

Visualmente, cada prioridade aparece listada no card em ordem crescente.

---

## ğŸ—ºï¸ Card: Rota

### Objetivo

Definir **para onde o tÃ©cnico deve ir**, com base em localizaÃ§Ã£o.

### ConteÃºdo do Card

* **Title:** Defina a(s) Rotas
* **Subtitle:** Defina as rotas desse card

### CTA / Popover

* Ãcone de tÃ©cnico
* Placeholder: **â€œRota(s)â€**
* Ãcones de seta (â†“ â†‘)

Ao clicar:

* Abre popover com **lista de bairros disponÃ­veis**
* Permite **seleÃ§Ã£o mÃºltipla**

> Lista inicial: bairros de UberlÃ¢ndia (expansÃ­vel no futuro).

---

## ğŸ“ Card: Texto

### Objetivo

Permitir **anotaÃ§Ãµes livres** dentro do workflow.

Uso tÃ­pico:

* Explicar regras
* Contextualizar decisÃµes
* Ajudar no entendimento do fluxo

Este card **nÃ£o interfere na lÃ³gica** do sistema.

---

## ğŸ”— ConexÃµes entre Cards (Setas)

* As setas representam o **fluxo de decisÃ£o**
* A ordem da conexÃ£o define:

  1. Primeiro filtro
  2. Segundo critÃ©rio
  3. Direcionamento final

Exemplo lÃ³gico:

TÃ©cnicos â†’ Prioridades â†’ Rotas â†’ Output

---

## ğŸ›ï¸ Navbar Inferior (Centralizada)

Localizada na parte inferior do canvas.

### Ãcones e FunÃ§Ãµes

* ğŸ– **MÃ£o** â†’ Modo Grab (mover o canvas)
* ğŸ–± **Cursor** â†’ Modo InteraÃ§Ã£o (clicar em cards, CTAs, popovers)
* â†© **Voltar** â†’ Desfaz Ãºltima aÃ§Ã£o
* â†ª **AvanÃ§ar** â†’ Refaz aÃ§Ã£o desfeita

> Apenas um modo (MÃ£o ou Cursor) pode estar ativo por vez.

---

## ğŸ”’ Regras Importantes

* O Canvas **nÃ£o agenda instalaÃ§Ãµes**
* O Canvas **nÃ£o executa aÃ§Ãµes**
* O Canvas **define regras puras**
* Toda alteraÃ§Ã£o sÃ³ impacta a Agenda apÃ³s salvar o workflow

---

## âœ… Resultado Esperado

* Clareza total da lÃ³gica de agendamento
* ReduÃ§Ã£o de decisÃµes manuais
* Workflow visual e auditÃ¡vel
* Base sÃ³lida para automaÃ§Ã£o futura e IA

---

> PrÃ³ximo passo natural: **Motor de DecisÃ£o â€” como o sistema interpreta o Canvas e gera o output para a Agenda**
